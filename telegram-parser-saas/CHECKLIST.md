# ‚úÖ Production Deployment Checklist

## –ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

### –ö–æ–¥ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- [ ] –í–µ—Å—å –∫–æ–¥ –∑–∞–∫–æ–º–º–∏—á–µ–Ω –≤ Git
- [ ] –°–æ–∑–¥–∞–Ω `.env.production` —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- [ ] `DEBUG=False` –≤ production –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- [ ] `SECRET_KEY` —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –Ω–æ–≤—ã–π –∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π
- [ ] `ALLOWED_HOSTS` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–∞—à –¥–æ–º–µ–Ω
- [ ] –í—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] Requirements —Ñ–∞–π–ª—ã –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ

### –°–µ—Ä–≤–µ—Ä
- [ ] –°–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ SSH
- [ ] Ubuntu 20.04+ –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –û–°
- [ ] –ú–∏–Ω–∏–º—É–º 2GB RAM
- [ ] –°–≤–æ–±–æ–¥–Ω–æ 20GB+ –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
- [ ] –î–æ–º–µ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ IP —Å–µ—Ä–≤–µ—Ä–∞

### –°–µ—Ä–≤–∏—Å—ã
- [ ] PostgreSQL —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] Redis —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω
- [ ] Nginx —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] Python 3.11+ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- [ ] –ü–∞—Ä–æ–ª—å PostgreSQL —Å–ª–æ–∂–Ω—ã–π –∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π
- [ ] SSH –∫–ª—é—á –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] Firewall (UFW) –±—É–¥–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –±—É–¥–µ—Ç –ø–æ–ª—É—á–µ–Ω

---

## –ü—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
- [ ] –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ —Å–µ—Ä–≤–µ—Ä—É –ø–æ SSH
- [ ] –°–∏—Å—Ç–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞: `sudo apt update && sudo apt upgrade`
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (—Å–º. DEPLOYMENT.md)

### 2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- [ ] PostgreSQL database —Å–æ–∑–¥–∞–Ω–∞
- [ ] PostgreSQL user —Å–æ–∑–¥–∞–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏
- [ ] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ
- [ ] –ë—ç–∫–∞–ø –ë–î –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 3. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- [ ] –ü—Ä–æ–µ–∫—Ç —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω –≤ `/var/www/`
- [ ] Virtual environment —Å–æ–∑–¥–∞–Ω
- [ ] –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] `.env` —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω
- [ ] –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã: `python manage.py migrate`
- [ ] –°—Ç–∞—Ç–∏–∫–∞ —Å–æ–±—Ä–∞–Ω–∞: `python manage.py collectstatic`
- [ ] –°—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω: `python manage.py createsuperuser`

### 4. Systemd —Å–µ—Ä–≤–∏—Å—ã
- [ ] `telegram-parser.service` —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] `telegram-parser-celery.service` —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –ü—É—Ç–∏ –≤ service —Ñ–∞–π–ª–∞—Ö –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ
- [ ] –°–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã: `sudo systemctl start telegram-parser telegram-parser-celery`
- [ ] –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –≤–∫–ª—é—á–µ–Ω: `sudo systemctl enable telegram-parser telegram-parser-celery`
- [ ] –°—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–µ–Ω: `sudo systemctl status telegram-parser telegram-parser-celery`

### 5. Nginx
- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ `/etc/nginx/sites-available/`
- [ ] –î–æ–º–µ–Ω –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π
- [ ] –ü—É—Ç–∏ –∫ –ø—Ä–æ–µ–∫—Ç—É –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ
- [ ] –°–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∞—è —Å—Å—ã–ª–∫–∞ —Å–æ–∑–¥–∞–Ω–∞ –≤ `sites-enabled`
- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞: `sudo nginx -t`
- [ ] Nginx –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω: `sudo systemctl restart nginx`

### 6. SSL/HTTPS
- [ ] Certbot —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –ø–æ–ª—É—á–µ–Ω: `sudo certbot --nginx -d yourdomain.com`
- [ ] Auto-renewal –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] HTTPS —Ä–µ–¥–∏—Ä–µ–∫—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤–∞–ª–∏–¥–Ω—ã–π (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ)

### 7. –õ–æ–≥–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [ ] –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `/var/log/telegram-parser/` —Å–æ–∑–¥–∞–Ω–∞
- [ ] –ü—Ä–∞–≤–∞ –Ω–∞ –ª–æ–≥–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] –õ–æ–≥–∏ –ø–∏—à—É—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –°–∞–π—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- [ ] –ê–¥–º–∏–Ω–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ `/admin/`
- [ ] –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Dashboard –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- [ ] –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (CSS/JS) –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- [ ] Telegram —á–∞—Ç—ã –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã: `python manage.py import_my_chats`
- [ ] –ü–∞—Ä—Å–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ UI
- [ ] Celery –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á–∏
- [ ] –°–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã
sudo systemctl status telegram-parser telegram-parser-celery nginx postgresql redis-server

# –õ–æ–≥–∏ –±–µ–∑ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
tail -f /var/log/telegram-parser/*.log
```

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- [ ] Firewall –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≤–∫–ª—é—á–µ–Ω
  ```bash
  sudo ufw allow 22
  sudo ufw allow 80
  sudo ufw allow 443
  sudo ufw enable
  ```
- [ ] SSH –ø–∞—Ä–æ–ª—å –æ—Ç–∫–ª—é—á–µ–Ω (—Ç–æ–ª—å–∫–æ –∫–ª—é—á–∏)
- [ ] Root login –æ—Ç–∫–ª—é—á–µ–Ω
- [ ] Fail2ban —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] `.env` —Ñ–∞–π–ª—ã –∏–º–µ—é—Ç –ø—Ä–∞–≤–∞ 600
  ```bash
  chmod 600 .env
  ```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
  ```bash
  htop
  df -h
  free -h
  ```
- [ ] –õ–æ–≥–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ

### –ë—ç–∫–∞–ø—ã
- [ ] –ë—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–Ω
  ```bash
  # –î–æ–±–∞–≤–∏—Ç—å –≤ crontab
  0 3 * * * pg_dump -U telegram_parser_user telegram_parser_db > /var/backups/db_$(date +\%Y\%m\%d).sql
  ```
- [ ] –ë—ç–∫–∞–ø `.env` –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ
- [ ] Telegram session —Ñ–∞–π–ª—ã –∑–∞–±—ç–∫–∞–ø—ã (master_session)

---

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
```bash
cd /var/www/telegram-parser-saas
git pull
source venv/bin/activate
pip install -r requirements.txt -r requirements.production.txt
python manage.py migrate
python manage.py collectstatic --noinput
sudo systemctl restart telegram-parser telegram-parser-celery
```

- [ ] –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞
- [ ] –ë—ç–∫–∞–ø –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –¥–µ–ª–∞–µ—Ç—Å—è
- [ ] Downtime –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π

---

## Troubleshooting

### –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **502 Bad Gateway**
   ```bash
   sudo systemctl status telegram-parser
   tail -f /var/log/telegram-parser/gunicorn-error.log
   ```

2. **–°—Ç–∞—Ç–∏–∫–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è**
   ```bash
   python manage.py collectstatic --noinput
   sudo systemctl restart telegram-parser
   ```

3. **Celery –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á–∏**
   ```bash
   redis-cli ping
   sudo systemctl status telegram-parser-celery
   tail -f /var/log/telegram-parser/celery.log
   ```

4. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞**
   ```bash
   sudo systemctl status postgresql
   psql -U telegram_parser_user -d telegram_parser_db -h localhost
   ```

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

- üìß Email: support@yourdomain.com
- üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `/docs/`
- üêõ Issues: GitHub Issues

---

**‚úÖ –î–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–µ–Ω!** –í–∞—à Telegram Parser SaaS —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ production!
