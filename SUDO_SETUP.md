# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ sudo –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø–∞—Ä—Å–µ—Ä–∞ –∏–∑ Django Admin

## –ü—Ä–æ–±–ª–µ–º–∞
–ö–Ω–æ–ø–∫–∞ "–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–µ—Ä" –≤ Django Admin –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø—Ä–∞–≤ sudo —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞.

## –†–µ—à–µ–Ω–∏–µ

### 1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞

–ù–∞–π–¥–∏—Ç–µ, –æ—Ç –∫–∞–∫–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–∞–ø—É—â–µ–Ω Gunicorn/Django:

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã Gunicorn
ps aux | grep gunicorn

# –ò–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ systemd —Å–µ—Ä–≤–∏—Å–µ
sudo systemctl status telegram-parser
```

–û–±—ã—á–Ω–æ —ç—Ç–æ `www-data`, `nginx`, `root` –∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ sudo –±–µ–∑ –ø–∞—Ä–æ–ª—è

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª sudoers:

```bash
sudo visudo
```

–î–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞ (–∑–∞–º–µ–Ω–∏—Ç–µ `www-data` –Ω–∞ –≤–∞—à–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è):

```
# –†–∞–∑—Ä–µ—à–∏—Ç—å www-data –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å telegram-parser-celery –±–µ–∑ –ø–∞—Ä–æ–ª—è
www-data ALL=(ALL) NOPASSWD: /usr/bin/systemctl restart telegram-parser-celery.service
www-data ALL=(ALL) NOPASSWD: /usr/bin/systemctl status telegram-parser-celery.service
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª (Ctrl+O, Enter, Ctrl+X).

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ sudo —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –ø–∞—Ä–æ–ª—è:

```bash
# –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
sudo -u www-data bash

# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å
sudo /usr/bin/systemctl restart telegram-parser-celery.service

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
sudo /usr/bin/systemctl status telegram-parser-celery.service
```

–ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –±–µ–∑ –∑–∞–ø—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è - –≤—Å—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ!

### 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Django

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ sudo –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Django:

```bash
sudo systemctl restart telegram-parser
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –ó–∞–π–¥–∏—Ç–µ –≤ Django Admin: `https://your-domain.com/admin/`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "Telegram Parser" ‚Üí "–°—Ç–∞—Ç—É—Å—ã –±–æ—Ç–æ–≤" –∏–ª–∏ "–ì–ª–æ–±–∞–ª—å–Ω—ã–µ —á–∞—Ç—ã"
3. –í—ã–±–µ—Ä–∏—Ç–µ –ª—é–±—É—é –∑–∞–ø–∏—Å—å
4. –í –≤—ã–ø–∞–¥–∞—é—â–µ–º –º–µ–Ω—é –¥–µ–π—Å—Ç–≤–∏–π –≤—ã–±–µ—Ä–∏—Ç–µ "üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–µ—Ä"
5. –ù–∞–∂–º–∏—Ç–µ "–í—ã–ø–æ–ª–Ω–∏—Ç—å"

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ:
```
‚úÖ –ü–∞—Ä—Å–µ—Ä —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω. X –∞–∫—Ç–∏–≤–Ω—ã—Ö —á–∞—Ç–æ–≤ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —á–∞—Ç–∞

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —á–∞—Ç–∞ –≤ Django Admin —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:

1. ‚úÖ –ß–∞—Ç –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ **–∞–∫—Ç–∏–≤–Ω—ã–π** (`is_active = True`)
2. ‚úÖ –£ —á–∞—Ç–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–∫–∞–∑–∞–Ω `chat_id` (—á–∏—Å–ª–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä `-100123456789`)
3. ‚úÖ –ü–∞—Ä—Å–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É –≤ –∞–¥–º–∏–Ω–∫–µ
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø–∞—Ä—Å–µ—Ä–∞:

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –ø–∞—Ä—Å–µ—Ä–∞
sudo journalctl -u telegram-parser-celery.service -f

# –ò–ª–∏ –ª–æ–≥–∏ Django
tail -f /path/to/your/logs/django.log
```

## –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Django

–ï—Å–ª–∏ –Ω–µ –∑–Ω–∞–µ—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# –ß–µ—Ä–µ–∑ systemd
sudo systemctl cat telegram-parser | grep User

# –ß–µ—Ä–µ–∑ –ø—Ä–æ—Ü–µ—Å—Å—ã
ps aux | grep "manage.py\|gunicorn" | grep -v grep
```

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ (–µ—Å–ª–∏ sudo –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

–ï—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ sudo –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç-–æ–±–µ—Ä—Ç–∫—É:

```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç
sudo nano /usr/local/bin/restart-parser.sh
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:
```bash
#!/bin/bash
/usr/bin/systemctl restart telegram-parser-celery.service
```

–°–¥–µ–ª–∞–π—Ç–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ sudo:
```bash
sudo chmod +x /usr/local/bin/restart-parser.sh
sudo visudo
```

–î–æ–±–∞–≤—å—Ç–µ:
```
www-data ALL=(ALL) NOPASSWD: /usr/local/bin/restart-parser.sh
```

–ò –∏–∑–º–µ–Ω–∏—Ç–µ –≤ –∫–æ–¥–µ –≤—ã–∑–æ–≤ –Ω–∞:
```python
['/usr/bin/sudo', '/usr/local/bin/restart-parser.sh']
```
